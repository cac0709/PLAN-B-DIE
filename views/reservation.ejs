<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>首頁</title>
    <link rel="stylesheet" href="/css/homepage.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="/kendo/css/kendo.common-material.min.css">
    <link rel="stylesheet" href="/kendo/css/kendo.material.min.css">
    
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="/kendo/js/kendo.all.min.js"></script>

 

 
</head>

<body>
    <img
        src="https://1.bp.blogspot.com/-5LGvxa85lK4/XeZzyMnlLaI/AAAAAAAARtM/IJTYFA6b35QWYmQHhta9u1cTPFiAGqI8gCLcBGAsYHQ/s1600/homeTitlePicture.jpg">
    <div id="container">
        <nav>
            <div id="logo">
                會議管理系統
            </div>
            <ul id=menu>
                <li><a href="/homepage">首頁</a></li>
                <li style="background-color: black;"><a href="/reservation">會議查詢/預約</a></li>
                <li><a href="/checkin">會議簽到</a></li>
                <li><a href="/record">會議記錄</a></li>
                <li><a href="/edit">編輯會議/參加人員</a></li>
            </ul>
        </nav>
        <header>

            <div id="links">
                <a href="/logout">登出</a>
            </div>
            <div id="user-name">
                <h3>使用者:<%= user.username %></h3>
            </div>
        </header>

        <main>
                <div class="inputer" name="meetingname" type= "text" >
                    <label for="meetingname">會議名稱：</label>
                    <input name="meetingname" class="inparea"type="text"id="meetingname">
                </div>
                <div class="inputer" name="meetinroomcode" type= "text" >
                    <label for="meetingroomcode">會議編號：</label>
                    <input name="meetingroomcode" class="inparea"type="text"id="meetingroomcode">
                </div>
                <div class="inputer" name="room" type= "text" >
                    <label for="meetingroom">會議室編號：</label>          
                    <select name="meetingroom" class="inparea"type="int"id="meetingroom">
                        <option value ="1" >一號會議室</option>
                        <option value = "2">二號會議室</option>
                        <option value = "3">三號會議室</option>
                        <option value = "4">四號會議室</option>
                    </select>
                </div>                          
                <div class="inputer" name="opendate" class="inparea" type="Date" >
                    <label for="opendate">開會日期：</label>
                    <input type="date" name="opendate" class="inparea" type="Date"id="opendate">
                </div>
                      
                <div class="inputer" name="start" type="text">
                    <label for="StartTime">開始時間：</label>
                    <select name="StartTime" class="inparea" type="text"id="StartTime">
                        <option value ="7:00">7:00</option>
                        <option value ="8:00">8:00</option>
                        <option value ="9:00">9:00</option>
                        <option value ="10:00">10:00</option>
                        <option value ="11:00">11:00</option>
                        <option value ="12:00">12:00</option>
                        <option value ="13:00">13:00</option>
                        <option value ="14:00">14:00</option>
                        <option value ="15:00">15:00</option>
                        <option value ="16:00">16:00</option>
                        <option value ="17:00">17:00</option>
                    </select>
                </div>        
                <div class="inputer"  name="end" type="text">
                    <label for="endtime">結束時間：</label>
                    <select name="endtime" class="inparea"type="text" id="endtime">
                        <option value ="8:00">8:00</option>
                        <option value ="9:00">9:00</option>
                        <option value ="10:00">10:00</option>
                        <option value ="11:00">11:00</option>
                        <option value ="12:00">12:00</option>
                        <option value ="13:00">13:00</option>
                        <option value ="14:00">14:00</option>
                        <option value ="15:00">15:00</option>
                        <option value ="16:00">16:00</option>
                        <option value ="17:00">17:00</option>
                        <option value ="18:00">18:00</option>
                    </select>
                </div>
                <div class="inputer" name="unit" type="text">
                    <label for="department">開會單位：</label>
                    <select name="department" class="inparea"type="text"id="department">
                                                      <option value ="婦產科">婦產科</option>
                                                      <option value ="精神科">精神科</option>
                                                      <option value ="泌尿科">泌尿科</option>
                                                      <option value ="科科">科科</option>
                    </select>
                </div>   
                <div class="inputer" name="meetingname" type= "text" >
                    <textarea style="width:300px;height:100px;"id = "note">輸入備註
                    </textarea>
                </div>           
                <div id="example" role="application">
                    <div class="demo-section k-content">
                    </div>                  
                </div>
                <div class="form-btn" id="form-btn">
                    <button class="btn btn-danger btn_botton" id="clean_btn">清除</button>
                    <button class="btn btn-primary btn_botton" id="insert_btn">新增</button>
                    
                </div>  <button class="btn  btn_botton" id="Member_btn">新增人員</button>
                
                
                       
        </main>
            <div id="data_grid" class="col-12" style="margin: 4%;margin-top: 0%;"></div>
    </div>
</body>
    <script>   
    $(document).ready(function(){
        $("#clean_btn").click(function(){
        $("#department").val("");
        $("#StartTime").val("");
        $("#endtime").val("");
        $("#opendate").val("");
        $("#meetingroom").val("");
        $("#meetingname").val("");
        $("#meetingroomcode").val("");
        $("#selected").val("");
        $("#note").val("");
            });
        });

//新增人員 沒反應
        var gridCount = 0;
     $("#Member_btn").click(function(){
         console.log("work"); 
        if (gridCount != 0) {
        $("#data_grid").data('kendoGrid').destroy();
        }
        $("#title_bar").show();
        gridCount++;
        /*var params = {
                "USERNAME" :USERNAME,
                "NAME" : NAME,
                "MEMBERDEPARTMENT" : MEMBERDEPARTMENT,
                "SIGN" : SIGN
              
        };
*/
       $("#data_grid").kendoGrid({
                  dataSource:{
                        transport: {
                            read: {
                                method: "post",
                                url: "/memberinsertforsearch",
                                dataType: "json"
                            }
                        },
                        schema: {
                            model: {
                                fields: {
                                    USERNAME: { type: "string" },
                                    NAME: { type: "string" },
                                    MEMBERDEPARTMENT: { type: "string" },
                                    SIGN: { type: "string" },
                                }
                            }
                        },
                        pageSize: 20,
                    },
                  height:600,
                  columns:[
                          {field:"USERNAME",title:"員工編號",width:"8%"},
                          {field:"NAME",title:"員工姓名",width:"10%"},
                          {field:"MEMBERDEPARTMENT",title:"部門",width:"10%"},
                          {field:"SIGN",title:"簽到狀況",width:"10%"}
                         
                  ],
                  sortable:true,
                  scrollable: true,
                                sortable: true,
                                pageable: {
                                    input: true,
                                    numeric: false
                                },
     });
    });

         $("#insert_btn").click(function(){
         var params = {
           "DEPARTMENT" : $("#department").val(),
           "STARTTIME" : $("#StartTime").val(),
            "ENDTIME" : $("#endtime").val(),
            "OPENDATE" : $("#opendate").val(),
            "MEETINGROOM" : $("#meetingroom").val(),
            "MEETINGNAME" : $("#meetingname").val(),
            "MEETINGROOMCODE" : $("#meetingroomcode").val(),
            "NOTE" : $("#note").val(),

        };
    $.ajax({
    type:"post",
    url:"/insert",
    dataType:"json",
    data: params
    }).done(function(e){
    if(e == true){
        alert("新增成功");
    }
})
} 
);

    </script>
    

    
</html>